{"version":3,"sources":["config.js","components/auth/SignUp.js","components/auth/SignIn.js","components/admins/AdminDashboard.js","components/admins/AdminNavBar.js","components/admins/newsTicker/AdminNewsTicker.js","components/admins/newsTicker/TickerNewForm.js","components/admins/stages/StageList.js","components/admins/stages/StageListRow.js","components/admins/stages/StageNewForm.js","components/admins/stages/StageEditForm.js","components/admins/calendar/AdminCalendar.js","components/admins/calendar/ConcertNewForm.js","components/admins/calendar/ConcertDetail.js","components/users/UserDashboard.js","components/users/UserNavBar.js","components/users/upcomingShows/UpcomingList.js","components/users/concerts/ConcertList.js","components/users/concerts/ConcertDetail.js","components/users/calendar/Calendar.js","components/newsTicker/NewsTicker.js","components/notFound/LottieControl.js","components/notFound/NotFound.js","App.js","index.js"],"names":["process","useStyles","makeStyles","theme","alert","marginBottom","spacing","paper","marginTop","display","flexDirection","alignItems","avatar","margin","description","textAlign","flexGrow","form","width","submit","SignUp","props","onSubmit","error","classes","Container","maxWidth","className","Avatar","src","alt","Typography","component","variant","noValidate","Alert","severity","errorMessage","Grid","container","item","xs","TextField","name","required","fullWidth","label","autoFocus","type","Button","color","justify","to","SignIn","padding","AdminDashboard","user","news","onNewTicker","showNewTickerForm","handleShowNewTickerForm","onLogout","useState","stages","updateStages","showNewForm","updateShowNewForm","updateError","useEffect","axios","get","config","then","res","data","role","onNew","handleShowNewForm","post","catch","err","response","onEdit","stage","patch","_id","updatedStages","map","singleStage","onDelete","stageId","delete","filteredStages","filter","CircularProgress","AdminNavBar","Navbar","bg","expand","Brand","Nav","NavDropdown","title","id","Item","onClick","AdminNewsTicker","handleSubmit","e","preventDefault","newNews","message","target","value","duration","TickerNewForm","InputLabelProps","shrink","defaultValue","InputProps","inputProps","min","max","StageList","TableContainer","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","i","StageListRow","showEditForm","updateShowEditForm","scope","concerts","length","StageNewForm","StageEditForm","updateStage","onChange","event","text","clonedStage","JSON","parse","stringify","StyledModal","Modal","styled","AdminCalendar","updateConcerts","newFormOpen","updateNewFormOpen","dateOnNew","updateDateOnNew","showOpen","updateShowOpen","concert","updateConcert","festivalStart","festivalEnd","stageName","match","params","resourceId","bandname","start","starttime","end","endtime","toggleNewForm","toggleShowOpen","plugins","resourceTimeGridPlugin","scrollGridPlugin","interactionPlugin","initialView","validRange","visibleRange","headerToolbar","center","allDaySlot","dayMinWidth","height","resources","events","dateClick","calendar","dateStr","eventClick","_def","isOpen","onBackgroundClick","onEscapeKeydown","Date","day","image","newConcert","concertId","deleted","filtered","input","picker","ConcertNewForm","moment","format","step","add","placeholder","multiline","rows","minHeight","minWidth","ConcertDetail","Card","CardMedia","CardContent","gutterBottom","enttime","CardActions","size","UserDashboard","favorites","updateFavorite","upcomingHeader","updateUpcomingHeader","upcoming","updateUpcoming","withCredentials","upcomingFavorites","header","UserNavBar","Divider","UpcomingList","List","ListItem","handleClick","ListItemText","primary","secondary","ConcertList","root","media","paddingTop","transform","marginLeft","transition","transitions","create","shortest","expandOpen","expanded","setExpanded","isFavorite","updateIsFavorite","playtime","some","CardHeader","test","action","IconButton","subheader","disableSpacing","clsx","aria-expanded","Collapse","in","timeout","unmountOnExit","paragraph","Calendar","NewsTicker","style","whiteSpace","join","LottieControl","defaultOptions","loop","autoplay","animationData","animation","rendererSettings","preserveAspectRatio","options","NotFound","Component","withRouter","updateUser","fetchingUser","updateFetchingUser","updateFavorites","calendarStages","updateCalendarStages","calendarEvents","updateCalendarEvents","updateNews","updateShowNewTickerForm","redirectPath","updateRedirectPath","history","push","handleGetNews","setInterval","a","console","log","msg","handleSignUp","password","passwordConfirmation","newUser","handleSignIn","handleLogout","handleUpdateFavorite","handleNewTicker","newMessage","exact","path","render","routeProps","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.266f9ad6.chunk.js","sourcesContent":["export default {\n\tAPI_URL: process.env.REACT_APP_SERVER_URL\n}","import React from \"react\";\nimport { Link } from 'react-router-dom'\nimport {\n  makeStyles,\n  Avatar,\n  Button,\n  Container,\n  Grid,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nconst useStyles = makeStyles((theme) => ({\n  alert: {\n    marginBottom: theme.spacing(3)\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n  },\n  description: {\n    margin: theme.spacing(3),\n    textAlign: \"center\",\n    flexGrow: 1,\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction SignUp(props) {\n  const { onSubmit, error } = props;\n  const classes = useStyles();\n\n  return (\n    <Container maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar\n          className={classes.avatar}\n          src=\"/public/logo512.png\"\n          alt=\"moep-avatar\"\n        />\n        <Typography component=\"h1\" variant=\"h3\">\n          MOEP\n        </Typography>\n        <Typography className={classes.description}>\n          Nullam accumsan lorem in dui. Nulla porta dolor. Etiam imperdiet\n          imperdiet orci.\n        </Typography>\n        <Typography component=\"h2\" variant=\"h5\">\n          Sign Up\n        </Typography>\n      </div>\n      <form onSubmit={onSubmit} className={classes.form} noValidate>\n        {error && <Alert className={classes.alert} severity=\"error\">{error.errorMessage}</Alert>}\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <TextField\n              name=\"name\"\n              variant=\"outlined\"\n              required\n              fullWidth\n              label=\"Username\"\n              autoFocus\n            />\n          </Grid>\n\n          <Grid item xs={12}>\n            <TextField\n              variant=\"outlined\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              variant=\"outlined\"\n              required\n              fullWidth\n              name=\"passwordConfirmation\"\n              label=\"Password Confirmation\"\n              type=\"password\"\n            />\n          </Grid>\n        </Grid>\n        <Button\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          Sign Up\n        </Button>\n        <Grid container justify=\"flex-end\">\n          <Grid item>\n            <Link to={\"/\"}>\n              Already have an account? Sign in\n            </Link>\n          </Grid>\n        </Grid>\n      </form>\n    </Container>\n  );\n}\n\nexport default SignUp;\n","import React from \"react\";\nimport { Link } from 'react-router-dom'\nimport {\n  makeStyles,\n  Avatar,\n  Button,\n  Container,\n  Grid,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nconst useStyles = makeStyles((theme) => ({\n  alert: {\n    marginBottom: theme.spacing(3)\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n  },\n  description: {\n    margin: theme.spacing(3),\n    textAlign: \"center\",\n    flexGrow: 1,\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction SignIn(props) {\n  const { onSubmit, error } = props;\n  const classes = useStyles();\n\n  return (\n    <Container maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar\n          className={classes.avatar}\n          src=\"/public/logo512.png\"\n          alt=\"moep-avatar\"\n        />\n        <Typography component=\"h1\" variant=\"h3\">\n          MOEP\n        </Typography>\n        <Typography className={classes.description}>\n          Nullam accumsan lorem in dui. Nulla porta dolor. Etiam imperdiet\n          imperdiet orci.\n        </Typography>\n        <Typography component=\"h2\" variant=\"h5\">\n          Sign In\n        </Typography>\n      </div>\n      <form onSubmit={onSubmit} className={classes.form} noValidate>\n        {error && <Alert className={classes.alert} severity=\"error\">{error.errorMessage}</Alert>}\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <TextField\n              name=\"name\"\n              variant=\"outlined\"\n              required\n              fullWidth\n              label=\"Username\"\n              autoFocus\n            />\n          </Grid>\n\n          <Grid item xs={12}>\n            <TextField\n              variant=\"outlined\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n            />\n          </Grid>\n        </Grid>\n        <Button\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          Sign In\n        </Button>\n        <Grid container justify=\"flex-end\">\n          <Grid item>\n            <Link to={\"/signup\"}>\n              No account yet? Sign up\n            </Link>\n          </Grid>\n        </Grid>\n      </form>\n    </Container>\n  );\n}\n\nexport default SignIn;\n","import axios from \"axios\";\nimport config from \"../../config\";\nimport React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid, CircularProgress } from \"@material-ui/core/\";\nimport { AdminNavBar, AdminNewsTicker, StageList } from \"../index\";\nimport { Redirect } from \"react-router\";\n\nfunction AdminDashboard(props) {\n  const {\n    user,\n    news,\n    onNewTicker,\n    showNewTickerForm,\n    handleShowNewTickerForm,\n    onLogout,\n  } = props;\n  const [stages, updateStages] = useState([]);\n  const [showNewForm, updateShowNewForm] = useState(false);\n  const [error, updateError] = useState(null);\n  const classes = useStyles();\n\n  // fetch stages on mount\n  useEffect(() => {\n    axios.get(`${config.API_URL}/api/stages`).then((res) => {\n      updateStages(res.data);\n    });\n  }, []);\n\n  const handleNewStage = (name) => {\n    axios\n      .post(`${config.API_URL}/api/stage/create`, { name })\n      .then((res) => {\n        updateStages([res.data, ...stages]);\n        updateError(null);\n        updateShowNewForm(false);\n      })\n      .catch((err) => updateError(err.response.data));\n  };\n\n  const handleShowNewForm = () => {\n    updateShowNewForm(true);\n  };\n\n  const handleEdit = (stage) => {\n    axios\n      .patch(`${config.API_URL}/api/stage/${stage._id}/update`, {\n        name: stage.name,\n      })\n      .then(() => {\n        let updatedStages = stages.map((singleStage) => {\n          if (stage._id === singleStage._id) {\n            singleStage.name = stage.name;\n          }\n          return singleStage;\n        });\n        updateStages(updatedStages);\n        updateError(null);\n      })\n      .catch((err) => updateError(err.response.data));\n  };\n\n  const handleDelete = (stageId) => {\n    axios\n      .delete(`${config.API_URL}/api/stage/${stageId}/delete`)\n      .then(() => {\n        let filteredStages = stages.filter((stage) => {\n          return stage._id !== stageId;\n        });\n        updateStages(filteredStages);\n      })\n      .catch((err) => updateError(err.response.data));\n  };\n\n  if (!user) {\n    return <Redirect to={\"/\"} />;\n  } else if (user.role !== \"admin\") {\n    return <Redirect to={\"/welcome\"} />;\n  }\n  if (!stages) return <CircularProgress />;\n\n  return (\n    <Grid className={classes.container} container spacing={3}>\n      <AdminNavBar onLogout={onLogout} />\n      <Grid item xs={12}>\n        <AdminNewsTicker\n          news={news}\n          onNew={onNewTicker}\n          showNewForm={showNewTickerForm}\n          handleShowNewForm={handleShowNewTickerForm}\n          error={error}\n        />\n        <StageList\n          onNew={handleNewStage}\n          showNewForm={showNewForm}\n          handleShowNewForm={handleShowNewForm}\n          onEdit={handleEdit}\n          onDelete={handleDelete}\n          error={error}\n          stages={stages}\n        />\n      </Grid>\n    </Grid>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    padding: theme.spacing(2),\n    margin: \"auto\",\n    maxWidth: 1200,\n  },\n}));\n\nexport default AdminDashboard;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar, Nav, NavDropdown } from \"react-bootstrap\";\n\nfunction AdminNavBar(props) {\n  const { onLogout } = props;\n\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n      <Navbar.Brand>\n        <Link to=\"/admin\">moep</Link>\n      </Navbar.Brand>\n\n      <Nav className=\"mr-auto\">\n        <NavDropdown title=\"Menu\" id=\"basic-nav-dropdown\">\n          <NavDropdown.Item variant=\"outline-success\" onClick={onLogout}>\n            Logout\n          </NavDropdown.Item>\n        </NavDropdown>\n      </Nav>\n    </Navbar>\n  );\n}\n\nexport default AdminNavBar;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport { NewsTicker, TickerNewForm } from \"../..\";\n\nfunction AdminNewsTicker(props) {\n  const { news, onNew, showNewForm, handleShowNewForm, error } = props;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const newNews = {\n      message: e.target.message.value,\n      duration: e.target.duration.value,\n    };\n    onNew(newNews);\n  };\n\n  return (\n    <>\n      <Typography component=\"h1\" variant=\"h5\">\n        Ticker News\n        {showNewForm ? (\n          <TickerNewForm handleSubmit={handleSubmit} error={error} />\n        ) : (\n          <AddCircleIcon onClick={handleShowNewForm} />\n        )}\n      </Typography>\n      {!showNewForm &&\n        (news ? <NewsTicker news={news} /> : <p>No current ticker news</p>)}\n    </>\n  );\n}\n\nexport default AdminNewsTicker;\n","import React from \"react\";\nimport { makeStyles, Button, TextField, Grid } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nfunction TickerNewForm(props) {\n  const { handleSubmit, error } = props;\n  const classes = useStyles();\n\n  return (\n    <form onSubmit={handleSubmit} className={classes.form}>\n      {error && (\n        <Alert className={classes.alert} severity=\"error\">\n          {error.errorMessage}\n        </Alert>\n      )}\n      <Grid container justify=\"space-between\">\n        <TextField\n          name=\"message\"\n          label=\"Ticker message\"\n          className={classes.message}\n          variant=\"outlined\"\n          required\n          autoFocus\n          InputLabelProps={{ shrink: true }}\n        />\n        <TextField\n          name=\"duration\"\n          label=\"Duration in minutes\"\n          type=\"number\"\n          defaultValue={60}\n          className={classes.duration}\n          variant=\"outlined\"\n          InputLabelProps={{ shrink: true }}\n          InputProps={{ inputProps: { min: 1, max: 1440 } }}\n        />\n      </Grid>\n      <Button\n        type=\"submit\"\n        fullWidth\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.submit}\n      >\n        Add News\n      </Button>\n      {/* ToDo: Add Cancel Button */}\n    </form>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  alert: {\n    marginBottom: theme.spacing(3),\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(3),\n  },\n  message: {\n    width: \"75%\",\n  },\n  duration: {\n    width: \"24%\",\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\nexport default TickerNewForm;\n","import React from \"react\";\nimport {\n  TableContainer,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  Typography,\n} from \"@material-ui/core\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport { StageListRow, StageNewForm } from \"../../index\";\n\nfunction StageList(props) {\n  const {\n    stages,\n    error,\n    onNew,\n    showNewForm,\n    handleShowNewForm,\n    onEdit,\n    onDelete,\n  } = props;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onNew(e.target.name.value);\n  };\n  \n  return (\n    <>\n      <Typography component=\"h1\" variant=\"h5\">\n        Stages\n        {showNewForm ? (\n          <StageNewForm handleSubmit={handleSubmit} error={error} />\n        ) : (\n          <AddCircleIcon onClick={handleShowNewForm} />\n        )}\n      </Typography>\n      <TableContainer>\n        <Table aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Stage name</TableCell>\n              <TableCell align=\"right\">Concerts</TableCell>\n              <TableCell align=\"right\">Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {stages.map((stage, i) => {\n              return (\n                <StageListRow\n                  key={i}\n                  error={error}\n                  stage={stage}\n                  onEdit={onEdit}\n                  onDelete={onDelete}\n                />\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n\nexport default StageList;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { TableRow, TableCell } from \"@material-ui/core\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { StageEditForm } from \"../../index\";\n\nfunction StageListRow(props) {\n  const [showEditForm, updateShowEditForm] = useState(false);\n  const { stage, error, onEdit, onDelete } = props;\n\n  const handleUpdate = (stage) => {\n    onEdit(stage);\n    // ToDo: show form if validation errors\n    if (!error) updateShowEditForm(false)\n  };\n\n  const handleShowEditForm = () => {\n    updateShowEditForm(true) \n  };\n\n  return (\n    <TableRow key={stage.name}>\n      <TableCell component=\"th\" scope=\"row\">\n        {showEditForm ? (\n          <StageEditForm onEdit={handleUpdate} stage={stage} error={error} />\n        ) : (\n          <Link to={`/admin/${stage.name}/calendar`}>{stage.name}</Link>\n        )}\n      </TableCell>\n      <TableCell align=\"right\">\n        {stage.concerts.length}\n      </TableCell>\n      <TableCell align=\"right\">\n        {!showEditForm ? <EditIcon onClick={handleShowEditForm} /> : \"\"}\n        <DeleteIcon onClick={() => onDelete(stage._id)}/>\n      </TableCell>\n    </TableRow>\n  );\n}\n\nexport default StageListRow;\n","import React from \"react\";\nimport { makeStyles, Button, TextField } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nfunction StageNewForm(props) {\n  const { handleSubmit, error } = props;\n  const classes = useStyles();\n\n  return (\n    <form onSubmit={handleSubmit} className={classes.form} noValidate=\"off\">\n      {error && (\n        <Alert className={classes.alert} severity=\"error\">\n          {error.errorMessage}\n        </Alert>\n      )}\n      <TextField\n        name=\"name\"\n        variant=\"outlined\"\n        required\n        fullWidth\n        label=\"Stage name\"\n        autoFocus\n      />\n      <Button\n        type=\"submit\"\n        fullWidth\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.submit}\n      >\n        Add Stage\n      </Button>\n      {/* ToDo: Add Cancel Button */}\n    </form>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  alert: {\n    marginBottom: theme.spacing(3),\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default StageNewForm;\n","import React, { useState } from 'react'\nimport { makeStyles, Button, TextField } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nfunction StageEditForm(props) {\n  const [stage, updateStage] = useState(props.stage)\n  const { error, onEdit } = props;\n  const classes = useStyles();\n\n  const handleNameChange = (event) => {\n    let text = event.target.value\n    let clonedStage = JSON.parse(JSON.stringify(stage))\n    clonedStage.name = text\n\n    updateStage(clonedStage)\n  }\n\n  return (\n    <>\n      {error && (\n        <Alert className={classes.alert} severity=\"error\">\n          {error.errorMessage}\n        </Alert>\n      )}\n      <TextField\n        name=\"name\"\n        variant=\"outlined\"\n        required\n        fullWidth\n        label=\"Stage name\"\n        autoFocus\n        onChange={handleNameChange} \n        value={stage.name}\n      />\n      <Button\n        fullWidth\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.submit}\n        onClick={ () => { onEdit(stage) } }\n      >\n        Update Stage\n      </Button>\n      {/* ToDo: Add Cancel Button */}\n    </>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  alert: {\n    marginBottom: theme.spacing(3),\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default StageEditForm\n","import axios from \"axios\";\nimport config from \"../../../config\";\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport resourceTimeGridPlugin from \"@fullcalendar/resource-timegrid\";\nimport scrollGridPlugin from \"@fullcalendar/scrollgrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport Modal, { ModalProvider } from \"styled-react-modal\";\nimport {\n  CircularProgress,\n  Grid,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport { ConcertNewForm, AdminConcertDetail, AdminNavBar } from \"../../index\";\n\nfunction AdminCalendar(props) {\n  const { user, onLogout } = props;\n  const [stage, updateStage] = useState({});\n  const [error, updateError] = useState(null);\n  const [concerts, updateConcerts] = useState([]);\n  const [newFormOpen, updateNewFormOpen] = useState(false);\n  const [dateOnNew, updateDateOnNew] = useState(\"\");\n  const [showOpen, updateShowOpen] = useState(false);\n  const [concert, updateConcert] = useState(null);\n  const classes = useStyles();\n  const festivalStart = \"2021-06-01\";\n  const festivalEnd = \"2021-06-05\";\n\n  // get all concerts on mount\n  useEffect(() => {\n    let stageName = props.match.params.stageName;\n\n    axios\n      .get(`${config.API_URL}/api/stage/${stageName}`)\n      .then((res) => {\n        const stage = res.data;\n\n        updateStage(stage);\n        updateConcerts(\n          stage.concerts.map((concert) => {\n            // map concerts to fullcalendar entries\n            return {\n              resourceId: stage._id,\n              title: concert.bandname,\n              start: concert.starttime,\n              end: concert.endtime,\n            };\n          })\n        );\n      })\n      .catch((err) => updateError(err.response.data));\n  }, []);\n\n  // helper function to toggle overlay\n  const toggleNewForm = () => {\n    updateNewFormOpen(!newFormOpen);\n  };\n\n  // toggle new form when calendar date is clicked\n  const handleDateClick = (calendar) => {\n    updateDateOnNew(calendar.dateStr);\n    toggleNewForm();\n  };\n\n  // create new concert after submitting the form\n  const handleNewConcert = (e) => {\n    e.preventDefault();\n    const starttime = new Date(\n      `${e.target.day.value}T${e.target.starttime.value}`\n    );\n    const endtime = new Date(`${e.target.day.value}T${e.target.endtime.value}`);\n\n    axios\n      .post(`${config.API_URL}/api/stages/${stage._id}/concerts/create`, {\n        bandname: e.target.bandname.value,\n        starttime: starttime,\n        endtime: endtime,\n        description: e.target.description.value,\n        image: e.target.image.value,\n      })\n      .then((res) => {\n        const concert = res.data;\n        // map new concert to fullcalendar entriy\n        const newConcert = {\n          resourceId: stage._id,\n          title: concert.bandname,\n          start: concert.starttime,\n          end: concert.endtime,\n        };\n\n        updateConcerts([newConcert, ...concerts]);\n        updateError(null);\n        toggleNewForm();\n      })\n      .catch((err) => {\n        updateError(err.response.data);\n      });\n  };\n\n  // helper function to toggle overlay\n  const toggleShowOpen = () => {\n    updateShowOpen(!showOpen);\n  };\n\n  // get concert when calender event is clicked\n  const handleEventClick = (calendar) => {\n    const bandname = calendar.event._def.title;\n\n    axios.get(`${config.API_URL}/api/concerts/${bandname}`).then((res) => {\n      updateConcert(res.data);\n      toggleShowOpen();\n    });\n  };\n\n  const handleDelete = (concertId) => {\n    axios\n      .delete(`${config.API_URL}/api/concerts/${concertId}/delete`)\n      .then((deleted) => {\n        let filtered = concerts.filter(\n          (concert) => concert.title !== deleted.bandname\n        );\n        updateConcerts(filtered);\n        updateError(null);\n        toggleShowOpen();\n      })\n      .catch((err) => updateError(err.response.data));\n  };\n\n  if (!user) {\n    return <Redirect to={\"/\"} />;\n  } else if (user.role !== \"admin\") {\n    return <Redirect to={\"/welcome\"} />;\n  }\n  if (!stage) return <CircularProgress />;\n\n  return (\n    <Grid className={classes.container} container spacing={3}>\n      <AdminNavBar onLogout={onLogout} />\n      <Grid item xs={12}>\n        <Typography component=\"h1\" variant=\"h5\">\n          {stage.name} - Concerts\n        </Typography>\n        <FullCalendar\n          plugins={[\n            resourceTimeGridPlugin,\n            scrollGridPlugin,\n            interactionPlugin,\n          ]}\n          initialView=\"resourceTimeGrid\"\n          validRange={{ start: festivalStart, end: festivalEnd }}\n          visibleRange={{ start: festivalStart, end: festivalEnd }}\n          headerToolbar={{ start: \"\", center: \"title\", end: \"\" }}\n          allDaySlot={false}\n          dayMinWidth={260}\n          height={\"auto\"}\n          resources={[{ id: stage._id, title: \" \" }]}\n          events={concerts}\n          dateClick={handleDateClick}\n          eventClick={handleEventClick}\n        />\n        {/* render new form as overlay */}\n        <ModalProvider>\n          <StyledModal\n            isOpen={newFormOpen}\n            onBackgroundClick={toggleNewForm}\n            onEscapeKeydown={toggleNewForm}\n          >\n            <ConcertNewForm\n              festivalStart={festivalStart}\n              festivalEnd={festivalEnd}\n              dateOnNew={dateOnNew}\n              onSubmit={handleNewConcert}\n              error={error}\n            />\n          </StyledModal>\n        </ModalProvider>\n        {/* render show concert details as overlay */}\n        <ModalProvider>\n          <StyledModal\n            isOpen={showOpen}\n            onBackgroundClick={toggleShowOpen}\n            onEscapeKeydown={toggleShowOpen}\n          >\n            <AdminConcertDetail\n              stageName={stage.name}\n              concert={concert}\n              onDelete={handleDelete}\n            />\n          </StyledModal>\n        </ModalProvider>\n      </Grid>\n    </Grid>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    padding: theme.spacing(2),\n    margin: \"auto\",\n    maxWidth: 1200,\n  },\n}));\n\nconst StyledModal = Modal.styled`\n  width: 40rem;\n  height: 40rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n`;\n\nexport default AdminCalendar;\n","import React from \"react\";\nimport {\n  makeStyles,\n  Button,\n  TextField,\n  Grid,\n  Typography,\n} from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport moment from \"moment\";\n\nfunction ConcertNewForm(props) {\n  const { festivalStart, festivalEnd, dateOnNew, onSubmit, error } = props;\n  const classes = useStyles();\n  \n  return (\n    <form onSubmit={onSubmit} className={classes.form} noValidate=\"off\">\n      <Typography component=\"h1\" variant=\"h5\">\n        Add new Concert\n      </Typography>\n      {error && (\n        <Alert className={classes.alert} severity=\"error\">\n          {error.errorMessage}\n        </Alert>\n      )}\n      <TextField\n        name=\"bandname\"\n        label=\"Bandname\"\n        className={classes.input}\n        variant=\"outlined\"\n        required\n        fullWidth\n        autoFocus\n      />\n      <Grid container justify=\"space-between\">\n        <TextField\n          name=\"day\"\n          label=\"Day\"\n          type=\"date\"\n          className={classes.picker}\n          variant=\"outlined\"\n          defaultValue={moment(dateOnNew).format(\"yyyy-MM-DD\")}\n          required\n          InputLabelProps={{\n            shrink: true,\n          }}\n          InputProps={{inputProps: { min: festivalStart, max: festivalEnd} }}\n        />\n        <TextField\n          name=\"starttime\"\n          label=\"Start time\"\n          type=\"time\"\n          defaultValue={moment(dateOnNew).format(\"hh:mm:ss\")}\n          className={classes.picker}\n          variant=\"outlined\"\n          required\n          InputLabelProps={{\n            shrink: true,\n          }}\n          inputProps={{\n            step: 300, // 5 min\n          }}\n        />\n        <TextField\n          name=\"endtime\"\n          label=\"Endtime time\"\n          type=\"time\"\n          defaultValue={moment(dateOnNew).add(2, \"h\").format(\"hh:mm:ss\")}\n          className={classes.picker}\n          variant=\"outlined\"\n          required\n          InputLabelProps={{\n            shrink: true,\n          }}\n          inputProps={{\n            step: 9000, //  15min\n          }}\n        />\n      </Grid>\n      <TextField\n        className={classes.input}\n        name=\"image\"\n        type=\"url\"\n        placeholder=\"https://\"\n        variant=\"outlined\"\n        fullWidth\n        label=\"Band image\"\n        autoFocus\n      />\n      <TextField\n        className={classes.input}\n        name=\"description\"\n        variant=\"outlined\"\n        multiline\n        rows={4}\n        fullWidth\n        label=\"Band description\"\n        autoFocus\n      />\n      <Button\n        type=\"submit\"\n        fullWidth\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.submit}\n      >\n        Add Concert\n      </Button>\n      {/* ToDo: Add Cancel Button */}\n    </form>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  alert: {\n    marginBottom: theme.spacing(3),\n  },\n  form: {\n    width: \"100%\",\n    padding: theme.spacing(3),\n  },\n  input: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  picker: {\n    width: \"30%\",\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default ConcertNewForm;\n","import {\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  CardMedia,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport React from \"react\";\n\nfunction ConcertDetail(props) {\n  const { stageName, concert, onDelete } = props;\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.container}>\n      <CardMedia\n        component=\"img\"\n        height=\"300\"\n        alt={`${concert.title}-image`}\n        src={concert.image}\n      />\n      <CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          {concert.bandname}\n        </Typography>\n        <Typography gutterBottom variant=\"body2\">\n          {moment(concert.starttime).format(\"yyyy-MM-DD\")} from{\" \"}\n          {moment(concert.starttime).format(\"hh:mm A\")} to{\" \"}\n          {moment(concert.enttime).format(\"hh:mm A\")} on {stageName}\n        </Typography>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {concert.description}\n        </Typography>\n      </CardContent>\n      <CardActions>\n        <Button onClick={() => { onDelete(concert._id) }} size=\"small\" color=\"primary\">\n          delete\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n\nconst useStyles = makeStyles({\n  container: {\n    minHeight: \"35rem\",\n    minWidth: \"35rem\",\n    margin: \"auto\"\n  }\n})\n\nexport default ConcertDetail;\n","import axios from \"axios\";\nimport config from \"../../config\";\nimport { React, useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid } from \"@material-ui/core\";\nimport { NewsTicker, UpcomingList, UserNavBar } from \"../index\";\n\nfunction UserDashboard(props) {\n  const { user, news, favorites, updateFavorite, onLogout } = props;\n  const [upcomingHeader, updateUpcomingHeader] = useState(\"\");\n  const [upcoming, updateUpcoming] = useState([]);\n  const classes = useStyles();\n\n  // fetch data on update\n  useEffect(() => {\n    // get upcoming favorites\n    axios\n      .get(`${config.API_URL}/api/upcoming/favorites`, {\n        withCredentials: true,\n      })\n      .then((res) => {\n        const upcomingFavorites = res.data;\n\n        // if no upcoming favorites get next 5 concerts\n        if (upcomingFavorites.length == 0) {\n          axios.get(`${config.API_URL}/api/upcoming`).then((res) => {\n            updateUpcoming(res.data);\n            updateUpcomingHeader(\"Next upcoming shows\");\n          });\n        } else {\n          updateUpcoming(upcomingFavorites);\n          updateUpcomingHeader(\"Your next upcoming shows\");\n        }\n      });\n  }, [favorites]);\n\n  if (!user) return <Redirect to={\"/\"} />;\n\n  return (\n    <Grid className={classes.container} container spacing={3}>\n      <UserNavBar onLogout={onLogout} />\n      <Grid item xs={12}>\n        {news && <NewsTicker news={news} />}\n        <h1>Hello {user.name}</h1>\n        <UpcomingList\n          user={user}\n          concerts={upcoming}\n          favorites={favorites}\n          updateFavorite={updateFavorite}\n          header={upcomingHeader}\n        />\n      </Grid>\n    </Grid>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    padding: theme.spacing(2),\n    margin: \"auto\",\n    maxWidth: 1000,\n  },\n}));\n\nexport default UserDashboard;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar, Nav, NavDropdown } from \"react-bootstrap\";\n\nfunction UserNavBar(props) {\n  const { onLogout } = props;\n\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n      <Navbar.Brand>\n        <Link to=\"/welcome\">moep</Link>\n      </Navbar.Brand>\n\n      <Nav className=\"mr-auto\">\n        <NavDropdown title=\"Menu\" id=\"basic-nav-dropdown\">\n          <NavDropdown.Item>\n            <Link to=\"/timetable\">Timetable</Link>\n          </NavDropdown.Item>\n\n          <NavDropdown.Item>\n            <Link to=\"/lineup\">Lineup</Link>\n          </NavDropdown.Item>\n\n          <NavDropdown.Divider />\n          <NavDropdown.Item variant=\"outline-success\" onClick={onLogout}>\n            Logout\n          </NavDropdown.Item>\n        </NavDropdown>\n      </Nav>\n    </Navbar>\n  );\n}\n\nexport default UserNavBar;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { List, ListItem, ListItemText } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport Modal, { ModalProvider } from \"styled-react-modal\";\nimport { ConcertDetail } from \"../../index\";\n\nfunction UpcomingList(props) {\n  const { header, concerts, favorites, updateFavorite } = props;\n  const [concert, updateConcert] = useState(null);\n  const [showOpen, updateShowOpen] = useState(false);\n\n  // helper function to toggle overlay\n  const toggleShowOpen = () => {\n    updateShowOpen(!showOpen);\n  };\n\n  // handle Click on ListItem\n  const handleClick = (concert) => {\n    updateConcert(concert);\n    toggleShowOpen();\n  };\n\n  return (\n    <>\n      <h2> {header} </h2>\n      <Link to={\"/timetable\"}>Timetable</Link>\n      <Link to={\"/lineup\"}>Lineup</Link>\n      <List>\n        {concerts.map((concert, i) => {\n          return (\n            <ListItem\n              key={i}\n              onClick={() => {\n                handleClick(concert);\n              }}\n            >\n              <ListItemText\n                primary={concert.bandname}\n                secondary={`${moment(concert.starttime).format(\n                  \"yyyy-MM-DD\"\n                )} starts ${moment(concert.starttime).format(\"hh:mm A\")} on ${\n                  concert.stage.name\n                }`}\n              />\n            </ListItem>\n          );\n        })}\n      </List>\n      {/* render show concert details as overlay */}\n      {concert && (\n        <ModalProvider>\n          <StyledModal\n            isOpen={showOpen}\n            onBackgroundClick={toggleShowOpen}\n            onEscapeKeydown={toggleShowOpen}\n          >\n            <ConcertDetail\n              concert={concert}\n              favorites={favorites}\n              updateFavorite={updateFavorite}\n            />\n          </StyledModal>\n        </ModalProvider>\n      )}\n    </>\n  );\n}\n\nconst StyledModal = Modal.styled`\n  width: 20rem;\n  height: 20rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n`;\n\nexport default UpcomingList;\n","import React from \"react\";\nimport { Redirect } from \"react-router\";\nimport { ConcertDetail, UserNavBar } from \"../../index\";\n\nfunction ConcertList(props) {\n  const { user, concerts, favorites, updateFavorite, onLogout } = props;\n\n  if (!user) return <Redirect to={\"/\"} />;\n\n  return (\n    <>\n      <UserNavBar onLogout={onLogout} />\n      {concerts.map((concert, i) => {\n        return (\n          <ConcertDetail\n            key={i}\n            concert={concert}\n            favorites={favorites}\n            updateFavorite={updateFavorite}\n          />\n        );\n      })}\n    </>\n  );\n}\n\nexport default ConcertList;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  CardHeader,\n  CardMedia,\n  Collapse,\n  IconButton,\n  Typography,\n} from \"@material-ui/core\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport moment from \"moment\";\n\nfunction ConcertDetail(props) {\n  const { concert, favorites, updateFavorite } = props;\n  const [expanded, setExpanded] = useState(false);\n  const [isFavorite, updateIsFavorite] = useState(false);\n  const classes = useStyles();\n\n  const playtime = `${moment(concert.starttime).format(\"dddd LT\")} - ${\n    concert.stage.name\n  }`;\n\n  useEffect(() => {\n    favorites.some((i) => i._id == concert._id)\n      ? updateIsFavorite(true)\n      : updateIsFavorite(false);\n  });\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        className={classes.test}\n        action={\n          <IconButton\n            onClick={() => {\n              updateFavorite(concert);\n            }}\n            aria-label=\"toggle favorites\"\n          >\n            {isFavorite ? <FavoriteIcon /> : <FavoriteBorderIcon />}\n          </IconButton>\n        }\n        title={concert.bandname}\n        subheader={playtime}\n      />\n      <CardActions disableSpacing>\n        <IconButton\n          className={clsx(classes.expand, {\n            [classes.expandOpen]: expanded,\n          })}\n          onClick={handleExpandClick}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n        >\n          <ExpandMoreIcon />\n        </IconButton>\n      </CardActions>\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n        <CardContent>\n          <CardMedia\n            className={classes.media}\n            image={concert.image}\n            title={concert.bandname}\n          />\n\n          <Typography paragraph></Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {concert.description}\n          </Typography>\n        </CardContent>\n      </Collapse>\n    </Card>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 345,\n    //background: `blue`,\n  },\n  media: {\n    height: 0,\n    paddingTop: \"56.25%\", // 16:9\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\",\n  },\n}));\n\nexport default ConcertDetail;\n","import axios from \"axios\";\nimport config from \"../../../config\";\nimport React, { useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Grid, makeStyles } from \"@material-ui/core\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport resourceTimeGridPlugin from \"@fullcalendar/resource-timegrid\";\nimport scrollGridPlugin from \"@fullcalendar/scrollgrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport Modal, { ModalProvider } from \"styled-react-modal\";\nimport { UserNavBar, ConcertDetail } from \"../../index\";\n\nfunction Calendar(props) {\n  const { user, stages, concerts, favorites, updateFavorite, onLogout } = props;\n  const [showOpen, updateShowOpen] = useState(false);\n  const [concert, updateConcert] = useState(null);\n  const classes = useStyles();\n  const festivalStart = \"2021-06-01\";\n  const festivalEnd = \"2021-06-05\";\n\n  // helper function to toggle overlay\n  const toggleShowOpen = () => {\n    updateShowOpen(!showOpen);\n  };\n\n  // get concert when calender event is clicked\n  const handleEventClick = (calendar) => {\n    const bandname = calendar.event._def.title;\n\n    axios.get(`${config.API_URL}/api/concerts/${bandname}`).then((res) => {\n      updateConcert(res.data);\n      toggleShowOpen();\n    });\n  };\n\n  if (!user) return <Redirect to={\"/\"} />;\n\n  return (\n    <Grid className={classes.container} container spacing={3}>\n      <UserNavBar onLogout={onLogout} />\n      <Grid item xs={12}>\n        <FullCalendar\n          plugins={[\n            resourceTimeGridPlugin,\n            scrollGridPlugin,\n            interactionPlugin,\n          ]}\n          initialView=\"resourceTimeGridDay\"\n          validRange={{ start: festivalStart, end: festivalEnd }}\n          visibleRange={{ start: festivalStart, end: festivalEnd }}\n          headerToolbar={{ start: \"\", center: \"title\", end: \"prev,next\" }}\n          allDaySlot={false}\n          dayMinWidth={260}\n          height={\"auto\"}\n          resources={stages}\n          events={concerts}\n          eventClick={handleEventClick}\n        />\n        {/* render show concert details as overlay */}\n        <ModalProvider>\n          <StyledModal\n            isOpen={showOpen}\n            onBackgroundClick={toggleShowOpen}\n            onEscapeKeydown={toggleShowOpen}\n          >\n            <ConcertDetail\n              concert={concert}\n              favorites={favorites}\n              updateFavorite={updateFavorite}\n            />\n          </StyledModal>\n        </ModalProvider>\n      </Grid>\n    </Grid>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    padding: theme.spacing(2),\n    margin: \"auto\",\n    maxWidth: 1200,\n  },\n}));\n\nconst StyledModal = Modal.styled`\n  width: 20rem;\n  height: 20rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n`;\n\nexport default Calendar;\n","import React from \"react\";\nimport Ticker from \"react-ticker\";\n\nfunction NewsTicker(props) {\n  const { news } = props;\n\n  return (\n    <Ticker>\n      {() => <p style={{ whiteSpace: \"nowrap\" }}> {news.join(\" +++ \")} +++</p>}\n    </Ticker>\n  );\n}\n\nexport default NewsTicker;\n","import React from \"react\";\nimport Lottie from \"react-lottie\";\n\nfunction LottieControl(props) {\n  const { height, width, animation } = props;\n  //animation json input, siehe NotFound\n\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animation,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\",\n    },\n  };\n  return (\n    <div>\n      <Lottie options={defaultOptions} height={height} width={width} />\n    </div>\n  );\n}\nexport default LottieControl;\n","import React, { Component } from \"react\";\nimport data from \"./animation/animation.json\";\nimport LottieControl from \"./LottieControl\";\n\nclass NotFound extends Component {\n  render() {\n    return (\n      <div>\n        <h2>404</h2>\n        <h5>you are at the wrong campsite, the festival is not here</h5>\n        <LottieControl animation={data} />\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import axios from \"axios\";\nimport config from \"./config\";\nimport { React, useState, useEffect } from \"react\";\nimport { Route, Switch, withRouter } from \"react-router-dom\";\nimport {\n  SignUp,\n  SignIn,\n  AdminDashboard,\n  AdminCalendar,\n  UserDashboard,\n  ConcertList,\n  Calendar,\n  NotFound,\n} from \"./components\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App(props) {\n  const [user, updateUser] = useState(null);\n  const [fetchingUser, updateFetchingUser] = useState(true);\n  const [concerts, updateConcerts] = useState([]);\n  const [favorites, updateFavorites] = useState([]);\n  const [calendarStages, updateCalendarStages] = useState([]);\n  const [calendarEvents, updateCalendarEvents] = useState([]);\n  const [news, updateNews] = useState(null);\n  const [showNewTickerForm, updateShowNewTickerForm] = useState(false);\n  const [redirectPath, updateRedirectPath] = useState(null);\n  const [error, updateError] = useState(null);\n  const { history } = props;\n\n  // handle redirects\n  useEffect(() => {\n    if (redirectPath === \"signin\") {\n      history.push(\"/\");\n    } else if (redirectPath === \"adminDashboard\") {\n      history.push(\"/admin\");\n    } else if (redirectPath === \"userDashboard\") {\n      history.push(\"/welcome\");\n    }\n  }, [history, redirectPath]);\n\n  // fetch data on mount\n  useEffect(() => {\n    // check if user has a session\n    axios\n      .get(`${config.API_URL}/api/user`, { withCredentials: true })\n      .then((res) => {\n        updateUser(res.data);\n        updateFavorites(res.data.concerts);\n        updateFetchingUser(false);\n      })\n      .catch(() => {\n        updateFetchingUser(false);\n        updateRedirectPath(\"signin\");\n      });\n\n    // get all stages and map to fullcalendar resources\n    axios\n      .get(`${config.API_URL}/api/stages`)\n      .then((res) => {\n        updateCalendarStages(\n          res.data.map((stage) => {\n            return {\n              id: stage._id,\n              title: stage.name,\n            };\n          })\n        );\n      })\n      .catch((err) => updateError(err.response.data));\n\n    // get all concerts\n    axios.get(`${config.API_URL}/api/concerts`).then((res) => {\n      const concerts = res.data;\n\n      updateConcerts(concerts);\n      // map concerts also to fullcalendar entries\n      updateCalendarEvents(\n        concerts.map((concert) => {\n          return {\n            resourceId: concert.stage._id,\n            title: concert.bandname,\n            start: concert.starttime,\n            end: concert.endtime,\n          };\n        })\n      );\n    });\n\n    // Ticker messages (news)\n    // get once on components mount\n    handleGetNews();\n    // then fetch every minute\n    try {\n      setInterval(async () => {\n        await handleGetNews();\n      }, 10000);\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n\n  // handle get news\n  const handleGetNews = () => {\n    axios\n      .get(`${config.API_URL}/api/news`)\n      .then((res) => {\n        const news = res.data;\n\n        if (news) {\n          updateNews(news?.map((msg) => msg.message));\n        } else {\n          updateNews(null);\n        }\n      })\n      .catch((err) => updateError(err.response.data));\n  };\n\n  const handleSignUp = (e) => {\n    e.preventDefault();\n    const { name, password, passwordConfirmation } = e.target;\n    let newUser = {\n      name: name.value,\n      password: password.value,\n      passwordConfirmation: passwordConfirmation.value,\n    };\n\n    axios\n      .post(`${config.API_URL}/api/auth/signup`, newUser, {\n        withCredentials: true,\n      })\n      .then((res) => {\n        updateUser(res.data);\n        updateError(null);\n        updateRedirectPath(\"userDashboard\");\n      })\n      .catch((err) => updateError(err.response.data));\n  };\n\n  const handleSignIn = (e) => {\n    e.preventDefault();\n    const { name, password } = e.target;\n    let user = {\n      name: name.value,\n      password: password.value,\n    };\n\n    axios\n      .post(`${config.API_URL}/api/auth/signin`, user, {\n        withCredentials: true,\n      })\n      .then((res) => {\n        updateUser(res.data);\n        updateError(null);\n\n        if (res.data.role === \"admin\") {\n          updateRedirectPath(\"adminDashboard\");\n        } else {\n          updateRedirectPath(\"userDashboard\");\n        }\n      })\n      .catch((err) => {\n        updateError(err.response.data);\n      });\n  };\n\n  const handleLogout = (e) => {\n    e.preventDefault();\n    axios\n      .get(`${config.API_URL}/api/auth/logout`, { withCredentials: true })\n      .then(() => {\n        updateUser(null);\n        updateRedirectPath(\"signin\");\n      })\n      .catch((err) => {\n        updateError(err.response.data);\n      });\n  };\n\n  const handleUpdateFavorite = (concert) => {\n    axios\n      .post(\n        `${config.API_URL}/api/upcoming/update`,\n        { favorites, concert },\n        { withCredentials: true }\n      )\n      .then((res) => {\n        updateFavorites(res.data);\n        updateError(null);\n      })\n      .catch((err) => updateError(err.response.data));\n  };\n\n  const handleNewTicker = (newMessage) => {\n    axios\n      .post(`${config.API_URL}/api/news/create`, {\n        message: newMessage.message,\n        duration: newMessage.duration,\n      })\n      .then((res) => {\n        updateNews([res.data.message, ...news]);\n        updateError(null);\n        updateShowNewTickerForm(false);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleShowNewTickerForm = () => {\n    updateShowNewTickerForm(true);\n  };\n\n  if (fetchingUser) return <CircularProgress />;\n\n  return (\n    <>\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={() => {\n            return <SignIn error={error} onSubmit={handleSignIn} />;\n          }}\n        />\n        <Route\n          path=\"/signup\"\n          render={() => {\n            return <SignUp error={error} onSubmit={handleSignUp} />;\n          }}\n        />\n        <Route\n          path=\"/welcome\"\n          render={() => {\n            return (\n              <UserDashboard\n                user={user}\n                news={news}\n                favorites={favorites}\n                updateFavorite={handleUpdateFavorite}\n                onLogout={handleLogout}\n              />\n            );\n          }}\n        />\n        <Route\n          exact\n          path=\"/lineup\"\n          render={() => {\n            return (\n              <ConcertList\n                user={user}\n                concerts={concerts}\n                favorites={favorites}\n                updateFavorite={handleUpdateFavorite}\n                onLogout={handleLogout}\n              />\n            );\n          }}\n        />\n        <Route\n          exact\n          path=\"/timetable\"\n          render={() => {\n            return (\n              <Calendar\n                user={user}\n                stages={calendarStages}\n                concerts={calendarEvents}\n                favorites={favorites}\n                updateFavorite={handleUpdateFavorite}\n                onLogout={handleLogout}\n              />\n            );\n          }}\n        />\n        <Route\n          exact\n          path=\"/admin\"\n          render={() => {\n            return (\n              <AdminDashboard\n                user={user}\n                news={news}\n                onNewTicker={handleNewTicker}\n                showNewTickerForm={showNewTickerForm}\n                handleShowNewTickerForm={handleShowNewTickerForm}\n                onLogout={handleLogout}\n              />\n            );\n          }}\n        />\n        <Route\n          path=\"/admin/:stageName/calendar\"\n          render={(routeProps) => {\n            return (\n              <AdminCalendar\n                user={user}\n                onLogout={handleLogout}\n                {...routeProps}\n              />\n            );\n          }}\n        />\n        <Route component={NotFound} />\n      </Switch>\n    </>\n  );\n}\n\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}